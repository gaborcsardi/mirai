<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>SSH Arguments Constructor — ssh_args • mirai</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><link href="../extra.css" rel="stylesheet"><meta property="og:title" content="SSH Arguments Constructor — ssh_args"><meta property="og:description" content="Return value may be supplied directly to the 'args' argument of
    launch_remote or make_cluster."><meta property="og:image" content="https://shikokuchuo.net/mirai/logo.png"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">mirai</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.10.0.9020</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/reference.html">mirai - Reference Manual</a>
    </li>
  </ul></li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/shikokuchuo/mirai/" class="external-link">
    <span class="fa fa-github"></span>
     
  </a>
</li>
<li>
  <a href="https://shikokuchuo.net/" class="external-link">
    <span class="fa fa-cube"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>SSH Arguments Constructor</h1>
    <small class="dont-index">Source: <a href="https://github.com/shikokuchuo/mirai/blob/HEAD/R/launchers.R" class="external-link"><code>R/launchers.R</code></a></small>
    <div class="hidden name"><code>ssh_args.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Return value may be supplied directly to the 'args' argument of
    <code><a href="launch_local.html">launch_remote</a></code> or <code><a href="make_cluster.html">make_cluster</a></code>.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">ssh_args</span><span class="op">(</span><span class="va">names</span>, port <span class="op">=</span> <span class="fl">22</span>, timeout <span class="op">=</span> <span class="fl">5</span>, tunnel <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>names</dt>
<dd><p>a character vector of hostnames or IP addresses of the remote
machines on which to launch daemons (nodes), e.g.
<code>c('10.75.37.90', 'nodename')</code>.</p></dd>


<dt>port</dt>
<dd><p>[default 22] numeric port number on which to connect.</p></dd>


<dt>timeout</dt>
<dd><p>[default 5] maximum time allowed for connection setup in seconds.</p></dd>


<dt>tunnel</dt>
<dd><p>[default FALSE] logical value whether to use SSH reverse
tunnelling. If TRUE, a tunnel is created between the same local and
remote port specified as part of 'url' of the function where this is
being used as an argument. 'url' in this case must be either 'localhost'
or '127.0.0.1'. This is as the host listens at 'url' on the local machine,
whilst the nodes dial into the same 'url' on the remote machine, and the
SSH tunnel connects both ends.</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    

<p>A list of character vectors the same length as 'names'.</p>
    </div>
    <div id="details">
    <h2>Details</h2>
    <p>By default, uses the SSH flags -f to background the SSH process and
    -T to not require a tty for efficiency.</p>
<p>For simplicity, this SSH tunnelling implementation uses the same port
    on both the side of the host and that of the corresponding node.</p>
    </div>
    <div id="note">
    <h2>Note</h2>
    <p>This function only returns the relevant SSH arguments; 'command' must
    also be specified as 'ssh' or the path to the SSH application.</p>
    </div>
    <div id="ssh-direct-connection">
    <h2>SSH Direct Connection</h2>
    


<p>The simplest use of SSH is to execute the daemon launch command on a
    remote machine, for it to dial back to the host / dispatcher URL. The
    relevant port on the host must be open to inbound connections from the
    remote machine.</p>
<p>The following shows an example for <code><a href="make_cluster.html">make_cluster</a></code>, and is
    equally valid for the same arguments in <code><a href="launch_local.html">launch_remote</a></code>.</p>
<p><code>
    make_cluster(
      # host URL accessible to nodes
      url = "tls+tcp://10.75.37.40:5555",
      # launch nodes using SSH
      command = "ssh",
      # node IP / hostnames to connect to with custom port number
      args = ssh_args(
        names = c("10.75.37.90", "10.75.37.91"),
        port = 222,
        timeout = 1
      )
    )
    </code></p>
    </div>
    <div id="ssh-tunnelling">
    <h2>SSH Tunnelling</h2>
    


<p>Use of SSH tunnelling provides a convenient way to launch remote nodes
    without requiring the remote machine to be able to access the host.
    Often firewall configurations or security policies may prevent opening a
    port to accept outside connections.</p>
<p>In these cases SSH tunnelling offers a solution by creating a tunnel once
    the initial SSH connection is made. The tunnel is created between
    <code>localhost:port</code> or equivalently <code>127.0.0.1:port</code> on each machine.
    This means that the host should listen to <code>localhost:port</code> and the
    nodes should each dial into <code>localhost:port</code> on their own respective
    machines.</p>
<p>The following is an example for <code><a href="make_cluster.html">make_cluster</a></code>, and is
    equally valid for the same arguments in <code><a href="launch_local.html">launch_remote</a></code>.</p>
<p><code>
    make_cluster(
      # use 'localhost' or '127.0.0.1' with a port available on all machines
      url = "tcp://localhost:5555",
      # launch nodes using SSH
      command = "ssh",
      # launch 2 nodes on the remote machine with SSH tunnelling
      args = ssh_args(
        names = c("10.75.37.90", "10.75.37.90"),
        timeout = 1,
        tunnel = TRUE
      )
    )
    </code></p>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="fu">ssh_args</span><span class="op">(</span>names <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"10.75.37.90"</span>, <span class="st">"nodename"</span><span class="op">)</span>, port <span class="op">=</span> <span class="fl">222</span>, timeout <span class="op">=</span> <span class="fl">10</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [[1]]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "-o ConnectTimeout=10 -fTp" "222"                      </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [3] "10.75.37.90"               "."                        </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [[2]]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "-o ConnectTimeout=10 -fTp" "222"                      </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [3] "nodename"                  "."                        </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Charlie Gao.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer></div>

  


  

  </body></html>

